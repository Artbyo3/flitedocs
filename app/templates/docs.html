{% extends "base.html" %}

{% block content %}
<div class="docs-container">
    <!-- Main Documentation Layout -->
    <div class="docs-layout">
        <!-- Left Sidebar - Full Height -->
        <aside class="docs-sidebar" id="docsSidebar">
            <div class="sidebar-header">
                <a href="{{ url_for('index') }}" class="sidebar-brand">
                    <span class="brand-icon">üî•</span>
                    <span class="brand-text">FliteDocs</span>
                </a>
                <button class="sidebar-close" id="sidebarClose">‚úï</button>
            </div>

            <!-- Search Bar in Sidebar -->
            <div class="sidebar-search">
                <div class="search-container">
                    <button class="search-btn">üîç</button>
                    <input type="text" class="search-input" placeholder="Search documentation..." id="searchInput">
                </div>
            </div>

                    <!-- Version Display in Sidebar -->
                    <div class="sidebar-version">
                        <a href="#" class="version-link">
                            <span class="version-icon">üìã</span>
                            <span class="version-text">v1.0.0</span>
                        </a>
        </div>

            <nav class="sidebar-nav">
                <!-- Main Topics Only -->
                <ul class="main-nav-list">
                    <li><a href="#getting-started" class="main-nav-item active">Getting Started</a></li>
                    <li><a href="#guides" class="main-nav-item">Guides</a></li>
                    <li><a href="#api-reference" class="main-nav-item">API Reference</a></li>
                    <li><a href="#faq" class="main-nav-item">FAQ</a></li>
                </ul>
            </nav>

  
        </aside>

        <!-- Main Content Area -->
        <main class="docs-main">
            <!-- Compact Top Navigation -->
            <nav class="docs-top-nav">
                <div class="nav-container">
        <div class="nav-links">
            <a href="{{ url_for('index') }}" class="nav-link">Home</a>
            <a href="{{ url_for('docs') }}" class="nav-link active">Docs</a>
        </div>
                    <button class="sidebar-toggle" id="sidebarToggle">‚ò∞</button>
                </div>
            </nav>

            <!-- Breadcrumbs -->
            <nav class="breadcrumb">
                <a href="{{ url_for('index') }}">Home</a>
                <span class="breadcrumb-separator">‚Ä∫</span>
                <a href="{{ url_for('docs') }}">Docs</a>
                <span class="breadcrumb-separator">‚Ä∫</span>
                <span class="breadcrumb-current">Getting Started</span>
    </nav>

            <!-- Page Header -->
            <header class="page-header">
                <h1 class="page-title">FliteDocs Documentation</h1>
                <p class="page-subtitle">Complete guide to building Flask applications with Flite - A Python CLI project generator</p>
                <div class="page-meta">
                    <span class="version-badge">v2.0</span>
                    <span class="last-updated">Last updated: January 2025</span>
                </div>
            </header>

            <!-- Content Sections -->
            <div class="content-sections">
                <!-- Getting Started Section -->
                <section class="docs-section" id="installation">
                    <div class="section-header">
                        <h2>üöÄ Installation</h2>
                        <div class="section-meta">
                            <span class="difficulty">Beginner</span>
                            <span class="time-estimate">3 min read</span>
                        </div>
                    </div>
                    <div class="section-content">
                        <p>Flite is a Python CLI tool for generating Flask projects. Since it's currently in development, you'll need to install it from source.</p>
                        
                        <div class="installation-methods">
                            <div class="method-tabs">
                                <button class="tab-btn active" onclick="showTab('source')">From Source</button>
                                <button class="tab-btn" onclick="showTab('pip')">Pip (Coming Soon)</button>
                            </div>

                            <div class="tab-content active" id="source">
                                <h3>Install from Source</h3>
                                <p>Clone the repository and install Flite in development mode:</p>
                                
                                <div class="code-block">
                                    <div class="code-header">
                                        <span class="code-title">Terminal</span>
                                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                    </div>
                                    <pre><code class="language-bash"># Clone the repository
git clone https://github.com/Artbyo3/flite.git
cd flite

# Install in development mode
pip install -e .</code></pre>
                                </div>

                                <div class="method-note">
                                    <strong>Note:</strong> Make sure you have Python 3.8+ installed and pip available.
                                </div>

                                <h4>Verify Installation</h4>
                                <p>Check if Flite is installed correctly:</p>
                                <div class="code-block small">
                                    <div class="code-header">
                                        <span class="code-title">Terminal</span>
                                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                    </div>
                                    <pre><code class="language-bash">flite --version</code></pre>
                                </div>
                            </div>

                            <div class="tab-content" id="pip">
                                <h3>Install with Pip (Coming Soon)</h3>
                                <div class="coming-soon-box">
                                    <span class="coming-soon-icon">üöÄ</span>
                                    <div class="coming-soon-content">
                                        <h4>Pip Installation Coming Soon!</h4>
                                        <p>We're working on making Flite available through pip. For now, please use the source installation method above.</p>
                                    </div>
                                </div>
                                
                                <p>Once available, you'll be able to install Flite with:</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span class="code-title">Terminal</span>
                                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                    </div>
                                    <pre><code class="language-bash">pip install flite</code></pre>
                                </div>
                            </div>
                        </div>

                        <div class="prerequisites-box">
                            <h4>Prerequisites</h4>
                            <ul>
                                <li><strong>Python 3.8+</strong> - Flite requires Python 3.8 or higher</li>
                                <li><strong>Git</strong> - For cloning the repository</li>
                                <li><strong>pip</strong> - Python package installer</li>
                                <li><strong>Virtual Environment</strong> (recommended) - For isolated installations</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="docs-section" id="quickstart">
                    <div class="section-header">
                        <h2>‚ö° Quickstart</h2>
                        <div class="section-meta">
                            <span class="difficulty">Beginner</span>
                            <span class="time-estimate">10 min read</span>
                        </div>
                    </div>
                    <div class="section-content">
                        <p>Create your first Flask project in under 2 minutes.</p>
                        
                        <div class="steps-container">
                            <div class="step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h3>Initialize Project</h3>
                                    <p>Create a new Flask project with Flite's default template.</p>
                                    <div class="code-block small">
                                        <pre><code>flite init my-project</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h3>Navigate to Project</h3>
                                    <p>Move into your project directory and explore the structure.</p>
                                    <div class="code-block small">
                                        <pre><code>cd my-project</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h3>Run Development Server</h3>
                                    <p>Start the development server and see your app in action.</p>
                                    <div class="code-block small">
                                        <pre><code>flite run</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="success-box">
                            <div class="success-icon">‚úÖ</div>
                            <div class="success-content">
                                <h3>Success!</h3>
                                <p>Your Flask application is now running at <code>http://localhost:5000</code>. Open your browser and start building!</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section" id="project-structure">
                    <div class="section-header">
                        <h2>üìÅ Project Structure</h2>
                        <div class="section-meta">
                            <span class="difficulty">Intermediate</span>
                            <span class="time-estimate">8 min read</span>
                        </div>
                    </div>
                    <div class="section-content">
                        <p>Understanding the default project structure created by Flite.</p>
                        
                        <div class="structure-diagram">
                            <div class="code-block">
                                <div class="code-header">
                                    <span class="code-title">Default Project Structure</span>
                                </div>
                                <pre><code>my-project/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ static/
‚îú‚îÄ‚îÄ tests/
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ run.py
‚îî‚îÄ‚îÄ README.md</code></pre>
                            </div>
                        </div>

                        <div class="structure-explanation">
                            <h3>üìã Structure Overview</h3>
                            <div class="explanation-grid">
                                <div class="explanation-item">
                                    <h3>app/</h3>
                                    <p>Main application package containing all your Flask code</p>
                                </div>
                                <div class="explanation-item">
                                    <h3>models/</h3>
                                    <p>Database models and data structures</p>
                                </div>
                                <div class="explanation-item">
                                    <h3>views/</h3>
                                    <p>Route handlers and business logic</p>
                                </div>
                                <div class="explanation-item">
                                    <h3>templates/</h3>
                                    <p>Jinja2 HTML templates</p>
                                </div>
                                <div class="explanation-item">
                                    <h3>static/</h3>
                                    <p>CSS, JavaScript, and image assets</p>
                                </div>
                                <div class="explanation-item">
                                    <h3>tests/</h3>
                                    <p>Unit and integration tests</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section" id="cli-commands">
                    <div class="section-header">
                        <h2>‚ö° CLI Commands</h2>
                        <div class="section-meta">
                            <span class="difficulty">Intermediate</span>
                            <span class="time-estimate">15 min read</span>
                        </div>
                    </div>
                    <div class="section-content">
                        <p>Complete reference of all available Flite CLI commands.</p>
                        
                        <div class="commands-grid">
                            <div class="command-card">
                                <div class="command-header">
                                    <h3>init</h3>
                                    <span class="command-badge">Core</span>
                                </div>
                                <div class="command-description">
                                    <p>Initialize a new Flask project with the specified template.</p>
                                </div>
                                <div class="command-usage">
                                    <div class="code-block small">
                                        <pre><code>flite init &lt;project-name&gt; [options]</code></pre>
                                    </div>
                                </div>
                                <div class="command-options">
                                    <h4>Options:</h4>
                                    <ul>
                                        <li><code>--template</code> Specify template to use</li>
                                        <li><code>--database</code> Database type (sqlite, postgresql, mysql)</li>
                                        <li><code>--auth</code> Include authentication system</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="command-card">
                                <div class="command-header">
                                    <h3>run</h3>
                                    <span class="command-badge">Development</span>
                                </div>
                                <div class="command-description">
                                    <p>Start the Flask development server with hot reload.</p>
                                </div>
                                <div class="command-usage">
                                    <div class="code-block small">
                                        <pre><code>flite run [options]</code></pre>
                                    </div>
                                </div>
                                <div class="command-options">
                                    <h4>Options:</h4>
                                    <ul>
                                        <li><code>--host</code> Host to bind to (default: 127.0.0.1)</li>
                                        <li><code>--port</code> Port to bind to (default: 5000)</li>
                                        <li><code>--debug</code> Enable debug mode</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="command-card">
                                <div class="command-header">
                                    <h3>build</h3>
                                    <span class="command-badge">Production</span>
                                </div>
                                <div class="command-description">
                                    <p>Build the application for production deployment.</p>
                                </div>
                                <div class="command-usage">
                                    <div class="code-block small">
                                        <pre><code>flite build [options]</code></pre>
                                    </div>
                                </div>
                                <div class="command-options">
                                    <h4>Options:</h4>
                                    <ul>
                                        <li><code>--optimize</code> Optimize assets and code</li>
                                        <li><code>--minify</code> Minify CSS and JavaScript</li>
                                        <li><code>--output</code> Output directory</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="docs-section" id="common-issues">
                    <div class="section-header">
                        <h2>‚ùì Common Issues</h2>
                        <div class="section-meta">
                            <span class="difficulty">All Levels</span>
                            <span class="time-estimate">12 min read</span>
                        </div>
                    </div>
                    <div class="section-content">
                        <p>Solutions to frequently encountered problems.</p>
                        
                        <div class="issues-list">
                            <div class="issue-item">
                                <div class="issue-header">
                                    <h3>ModuleNotFoundError: No module named 'flite'</h3>
                                    <span class="issue-severity high">High</span>
                                </div>
                                <div class="issue-description">
                                    <p><strong>Problem:</strong> Flite is not installed or not in your Python path.</p>
                                    <p><strong>Solution:</strong> Reinstall Flite using pip or check your Python environment.</p>
                                </div>
                                <div class="issue-solution">
                                    <div class="code-block small">
                                        <pre><code>pip install --upgrade flite</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="issue-item">
                                <div class="issue-header">
                                    <h3>Port 5000 already in use</h3>
                                    <span class="issue-severity medium">Medium</span>
                                </div>
                                <div class="issue-description">
                                    <p><strong>Problem:</strong> Another process is using port 5000.</p>
                                    <p><strong>Solution:</strong> Use a different port or stop the conflicting process.</p>
                                </div>
                                <div class="issue-solution">
                                    <div class="code-block small">
                                        <pre><code>flite run --port 8000</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>


        </main>

        <!-- Right Sidebar - Table of Contents -->
        <aside class="page-nav">
            <div class="page-nav-header">
                <h4>On This Page</h4>
            </div>
            <div class="page-nav-content">
                <div class="current-section">
                    <h5 class="section-title">Getting Started</h5>
                </div>
                
                <div class="section-topics">
                    <ul class="topic-list">
                        <li><a href="#installation" class="topic-link">Installation</a></li>
                        <li><a href="#quickstart" class="topic-link">Quickstart</a></li>
                        <li><a href="#first-project" class="topic-link">Your First Project</a></li>
                        <li><a href="#configuration" class="topic-link">Configuration</a></li>
                    </ul>
                </div>
            </div>
        </aside>
    </div>
</div>

<script>
// Sidebar functionality
function toggleSection(sectionId) {
    const content = document.getElementById(sectionId);
    const toggle = document.getElementById(sectionId + '-toggle');
    
    if (content.classList.contains('collapsed')) {
        content.classList.remove('collapsed');
        toggle.classList.remove('rotated');
    } else {
        content.classList.add('collapsed');
        toggle.classList.add('rotated');
    }
}

// Tab functionality
function showTab(tabName) {
    // Hide all tab contents
    document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
    });
    
    // Remove active class from all tab buttons
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // Show selected tab content
    document.getElementById(tabName).classList.add('active');
    
    // Add active class to clicked button
    event.target.classList.add('active');
}

// Copy code functionality
function copyCode(button) {
    const codeBlock = button.parentElement.nextElementSibling;
    const code = codeBlock.textContent;
    
    navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => {
            button.textContent = 'Copy';
        }, 2000);
    });
}

// Search functionality
document.getElementById('searchInput').addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    const sections = document.querySelectorAll('.docs-section');
    
    sections.forEach(section => {
        const content = section.textContent.toLowerCase();
        if (content.includes(searchTerm)) {
            section.style.display = 'block';
        } else {
            section.style.display = 'none';
        }
    });
});

// Sidebar toggle for mobile
document.getElementById('sidebarToggle').addEventListener('click', function() {
    const sidebar = document.getElementById('docsSidebar');
    sidebar.classList.toggle('active');
});

document.getElementById('sidebarClose').addEventListener('click', function() {
    const sidebar = document.getElementById('docsSidebar');
    sidebar.classList.remove('active');
});

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Highlight active section in table of contents
window.addEventListener('scroll', function() {
    const sections = document.querySelectorAll('.docs-section');
    const navLinks = document.querySelectorAll('.page-nav-list a');
    
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (window.pageYOffset >= sectionTop - 200) {
            current = section.getAttribute('id');
        }
    });
    
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
            link.classList.add('active');
        }
    });
});

// Version link functionality
document.addEventListener('DOMContentLoaded', function() {
    const versionLink = document.querySelector('.version-link');
    if (versionLink) {
        versionLink.addEventListener('click', function(e) {
            e.preventDefault();
            // Here you would typically redirect to the version page
            console.log('Version link clicked');
            // Example: window.location.href = '/docs/versions';
        });
    }
});
</script>
{% endblock %}